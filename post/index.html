<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Posts</title>
		<meta name="viewport" content="width=device-width">
		
			<link href="/post/index.xml" rel="alternate" type="application/rss+xml" title="life log" />
			<link href="/post/index.xml" rel="feed" type="application/rss+xml" title="life log" />
		
		<link rel="stylesheet" href="/css/hybrid.css">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/colors-dark.css">

		
	</head>
	<body>
		<header id="header">
			<h1><a href="/">life log</a></h1>
			<p>A website built through Hugo and blogdown.</p>
		</header>

		<div id="page">
			<div id="sidebar">
				<nav>
	
		<ul class="nav">
			
				<li><a href="/"><span>Home</span></a></li>
			
				<li><a href="/about/"><span>About</span></a></li>
			
				<li><a href="/categories/"><span>Categories</span></a></li>
			
				<li><a href="/tags/"><span>Tags</span></a></li>
			
				<li><a href="/index.xml"><span>Subscribe</span></a></li>
			
		</ul>
	
</nav>

			</div>

			<div id="content">
				
	
		<article class="post">
			<h1><a href="/post/2017/11/15/k8s-%E5%AD%A6%E4%B9%A0/">k8s 学习</a> </h1>

			<div class="post-content">
				<p>概念 kube-dns  解决的问题  不是kubernetes中必须安装的，但是推荐安装 虽然kubernetes中有service的概念，访问服务可以访问端口， 但是如果是一个app，一个db， 链接db时需要通过增加app查询ip的能力，需要重复的开发，修改应用 刚开始的做法采用了docker使用过的方法--环境变量。 每个pod启动时，会通过环境变量设置所有服务的ip与port， 这样pod中的应用可以启动时，读取环境变量来获取依赖服务的地址信息 ，但是，一个问题是，必须依赖服务先启动才可以正常使用 最理想的方案就是直接使用服务的名字，不需要关心它实际的ip，即dns系统。 kubernetes 也提供了这种功能   存在的形态  DNS服务不是独立的系统，是一种 addon 作为插件来安装，可以把它看做运行在集群上的应用。
DNS 有两种配置方式: - 在1.3之前使用 etcd + kube2sky + skydns 的方式
会有三个容器运行:
etcd: 保存所有DNS数据
kube2sky: 通过kubernetes API 监听 Service 的变化， 然后同步到 etcd
skyDNS: 根据etcd中的数据，对外提供DNS查询服务
 在1.3之后可以使用 kubedns + dnsmasq 的方式  kubedns: 提供原来kube2sky + etcd + skyDNS 的功能，可以单独对外提供DNS查询服务
dnsmasq: 轻量级的DNS服务软件， 可以提供DNS缓存功能。 kubeDNS模式下，dnsmasq正在内存这种预留一块大小1G（默认）的地方，保存当前最常用的DNS查询记录， 如果缓存中没有要查找的记录，就会到kubeDNS中查询，并把结果缓存起来.
离线安装 环境  vagrant 虚拟三台机器 centos7.  … </p>
			</div>

			<p class="meta">Posted on <span class="postdate">15. November 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/2017/09/19/collection/">Collection</a> </h1>

			<div class="post-content">
				<p>体系化认识RPC </p>
			</div>

			<p class="meta">Posted on <span class="postdate">19. September 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/2017/09/12/%E7%AC%AC%E4%B8%80%E6%9C%ACdocker%E4%B9%A6-%E7%AC%94%E8%AE%B0/">第一本Docker书 笔记</a> </h1>

			<div class="post-content">
				<p>第一本Docker书 第一章 简介 1.1.1 提供一个简单轻量的建模方式  docker及其简洁，全部环境一台安装了肩同版本的Linux内核和二进制文件最小限的宿主机
 大多数docker容器只需要不到1秒钟即可启动
 由于去除了管理程序的开销，docker容器拥有很高大的性能，充分的利用资源
  1.1.2 职责的逻辑分离  使用docker  开发人员只需要关心容器中运行的程序 运维人员只需要关心如何管理容器  docker设计目的就是要加强开发人员写代码的开发环境与应用程序要部署环境的一致性  1.1.3 快速高效的开发生命周期 1.1.3 鼓励使用面向服务的架构  docker鼓励面向服务的架构和微服务架构 推荐一个容器只运行一个应用程序或进程，形成一个分布式的应用模型，分布式的部署应用，扩展或调试应用变得简单，提高程序的内省性（什么意思？）  1.2docker组件  客户端和服务器：c/s架构，命令行工具docker与一整套RESTful API 镜像：镜像是基于联合（Union）文件系统的一种层级结构 Registry： 类似于github 容器：  容器是基于镜像启动起来的，容器中可以运行一个或多个进程 可以认为，竟像是docker生命周期中的侯建或打包阶段，容器是启动或执行阶段。 总结，docker容器： 一个镜像格式 一系列标准操作 一个执行环境   1.3 我们能用docker做什么  加快本地开发和构建流程，高效，轻量化 独立的服务或应用在不同的环境中，得到相同的结果 创建隔离环境来进行测试，如Jenkins CI 启动一个测试容器 构建一个多用户的平台即服务（PaaS）基础设施（什么意思？） 提供软件即服务（SaaS）应用程序 高性能，超大规模的宿主机部署  1.4docker与配置管理 1.5 docker的技术组件  Linux内核的x64主机上 内核版本 &gt;=3.8 Linux内核的命名空间（namespace）：  文件系统隔离： 每个容器都有自己的root文件系统 进程隔离： 每个容器都隐形在自己的进程环境中 网络隔离： 容器间的虚拟网络接口和IP地址都是分开的 资源隔离和分组： 使用cgroups（即control group，Linux 的内核特性之一）将CPU和内存之类的资源独立分配给每个Docker容器 写时复制： 文件系统都是通过写时复制常见的，意味着文件系统时分层的，快速的，占用磁盘空间更小（什么意思？） 日志： 容器的stdout，stderr，stdin这些IO流都会被收集并计入日志，用来进行日志分析和故障排错。 交互式shell： 可以创建一个伪tty终端， 将其连接到STDIN，为容器提供一个交互式shell。   第二章 安装docker 2.  … </p>
			</div>

			<p class="meta">Posted on <span class="postdate">12. September 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/2017/09/06/tcp/ip%E8%AF%A6%E8%A7%A3%E5%8D%B7-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">TCP/IP详解卷 读书笔记</a> </h1>

			<div class="post-content">
				<p>TCP/IP详解卷 读书笔记 为什么要看 这是互联网的基础，web开发者基础
概述 1.2 分层  在 T C P / I P 协议族中,网络层 I P 提 供 的 是 一 种 不 可 靠 的 服 务 。 也 就 是 说 , 它 只 是 尽 可 能 快 地把分组从源结点送到目的结点,但是并不提供任何可靠性保证。而另一方面, T C P 在不可 靠的 I P 层 上 提 供 了 一 个 可 靠 的 运 输 层 。 为 了 提 供 这 种 可 靠 的 服 务 , T C P 采 用 了 超 时 重 传 、 发 送和接收端到端的确认分组等机制。由此可见,运输层和网络层分别负责不同的功能。  3.  … </p>
			</div>

			<p class="meta">Posted on <span class="postdate">06. September 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/2017/07/31/ansible/">Ansible</a> </h1>

			<div class="post-content">
				<p>主机环境 centOS7.2 python2.7
快速上手 配置存储 ansible.cfg 全局配置
/etc/ansible/hosts 里面是远程机器的列表 # 节点集合 # NODE_NAME，NODE_IP这些都是参数，每个节点自己的参数 [deploy] 192.168.1.1 NODE_NAME=etcd1 NODE_IP=&quot;192.168.1.1&quot; 192.168.1.2 NODE_NAME=etcd2 NODE_IP=&quot;192.168.1.2&quot; 192.168.1.3 NODE_NAME=etcd3 NODE_IP=&quot;192.168.1.3&quot; [deploy:vars] #局部变量 app_dir=&quot;&quot; # ---------全局附加参数-------------------- [all:vars] bin_dir=&quot;/root/local/bin&quot;  Installation  centOS环境需要先配置EPEL: yum install epel-release 然后再安装ansible: sudo yum install ansible 参考资料Ansible中文权威指南  New Driver to load  新手上路TODO  参考文档 开源自动化配置管理工具ansible、saltstack、Puppet、Chef选择 </p>
			</div>

			<p class="meta">Posted on <span class="postdate">31. July 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/2017/07/25/jenkins-%E6%90%AD%E5%BB%BA%E5%88%9D%E7%BA%A7/">jenkins 搭建初级</a> </h1>

			<div class="post-content">
				<p> 下载  官网下载jenkins.war包 下载java jre 配置环境变量  启动  运行java jenkins.war &ndash;httpPort=yourport  配置 问题  执行shell时会遇到权限问题
 妥协了切换成root用户执行jenkins了 用普通用户是可以的，只是需要更多的时间，失了耐心  插件列表中的插件太新，不能兼容老旧的gitlab
 上传插件遇到Nginx 上传文件过大的问题
 通过在 jenkins插件下载 中下载插件到服务器的jenkins/plugins目录下重启jenkins,插件安装成功    </p>
			</div>

			<p class="meta">Posted on <span class="postdate">25. July 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/2017/07/23/its-time-to-sleep/">It&#39;s time to sleep</a> </h1>

			<div class="post-content">
				<p>明天一定是一个起舞的日子 </p>
			</div>

			<p class="meta">Posted on <span class="postdate">23. July 2017</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/1/01/01/"></a> </h1>

			<div class="post-content">
				<p>l&mdash; title: &ldquo;Interest_web&rdquo; date: 2019-07-24T20:20:33+08:00
draft: true 有趣的网站，都有有趣的人维护 有些东西比如英语，也许不是那么难 解谜英语 </p>
			</div>

			<p class="meta">Posted on <span class="postdate">01. January 0001</span></p>
		</article>
	
		<article class="post">
			<h1><a href="/post/1/01/01/linux%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E7%9A%845%E6%9D%A1%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Linux查看系统架构的5条常用命令</a> </h1>

			<div class="post-content">
				<p> </p>
			</div>

			<p class="meta">Posted on <span class="postdate">01. January 0001</span></p>
		</article>
	

	


			</div>

			<footer id="footer">
				<p class="copyright">
					
						Powered by <a href="https://gohugo.io/">Hugo</a> and the
						<a href="https://github.com/bake/solar-theme-hugo">Solar</a>-theme.
					
				</p>
			</footer>
		</div>

		
	</body>
</html>
